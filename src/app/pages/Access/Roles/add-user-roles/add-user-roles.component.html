<div class="container">
  <h2>Add User Roles</h2>

  <form (ngSubmit)="onSubmit()" class="add-user-form">
    <!-- User Details Section (ID and Name) -->
   <!-- User Roles Selection -->
   <div class="form-group">
    <label for="roles">Roles</label>
    <select id="roles" [(ngModel)]="newUser.role" name="roles" required>
      <option value="" disabled selected>Select a role</option>
      <option *ngFor="let role of availableRoles" [value]="role">
        {{ role }}
      </option>
    </select>
  </div>


    <div class="form-group">
      <label for="id">ID</label>
      <input type="text" id="id" [(ngModel)]="newUser.id" name="id" required />
    </div>

    <!-- Role Selection Section -->
    <div class="form-group">
      <label>Select Privilege</label>
      
      <!-- Dropdown to select role -->
      <select id="role" [(ngModel)]="selectedRole" name="role" class="dropdown" (change)="onRoleSelect()">
        <option value="" disabled selected>Select a Privilege</option>
        <option *ngFor="let role of availableRoles" [value]="role">
          {{ role }}
        </option>
      </select>

      <!-- Show checkboxes when a role is selected -->
      <div *ngIf="showCheckboxes" class="checkbox-group">
        <label *ngFor="let role of availableRoles">
          <input type="checkbox" [value]="role" (change)="toggleRole(role)" 
                 [checked]="newUser.roles.includes(role)" />
          {{ role }}
        </label>
      </div>
    </div>

    <!-- Assigned Roles Section -->
    <div class="form-group">
      <label for="assign-roles">Assigned Privilege</label>
      <div class="selected-roles">
        <div *ngFor="let role of newUser.roles">
          <span>{{ role }}</span>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="buttons">
      <button type="submit" class="save-btn">
        <i class="fa-solid fa-save"></i>Save
      </button>
      <button type="button" class="cancel-btn" (click)="onCancel()">
        <i class="fa-solid fa-xmark"></i> Cancel
      </button>
    </div>
  </form>
</div>
